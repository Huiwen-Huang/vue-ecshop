"use strict";(self["webpackChunkvue_ecshop"]=self["webpackChunkvue_ecshop"]||[]).push([[534],{1534:function(t,s,l){l.r(s),l.d(s,{default:function(){return st}});var e=l(6768),o=l(4232),r=l(5130);const d=(0,e.Lk)("div",{class:"loadingio-spinner-ellipsis-nq4q5u6dq7r"},[(0,e.Lk)("div",{class:"ldio-x2uulkbinbj"},[(0,e.Lk)("div"),(0,e.Lk)("div"),(0,e.Lk)("div"),(0,e.Lk)("div"),(0,e.Lk)("div")])],-1),n={class:"container"},a=(0,e.Lk)("div",{class:"row mb-4"},[(0,e.Lk)("div",{class:"col-md-8 col-10 mx-auto"},[(0,e.Lk)("div",{class:"position-relative m-4"},[(0,e.Lk)("div",{class:"progress",style:{height:"2px"}},[(0,e.Lk)("div",{class:"progress-bar",role:"progressbar",style:{width:"100%","--bs-progress-bar-bg":"#D6EADF"},"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"})]),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#D6EADF","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"1"),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#D6EADF","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"2"),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-100 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#A7C4B5","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"3")])]),(0,e.Lk)("div",{class:"row"},[(0,e.Lk)("div",{class:"col-md-8 col-10 mx-auto"},[(0,e.Lk)("div",{class:"position-relative m-2"},[(0,e.Lk)("div",{class:"position-absolute top-0 start-0 translate-middle d-inline mt-2 ms-4"},"購物車"),(0,e.Lk)("div",{class:"position-absolute top-0 start-50 translate-middle d-inline mt-2 ms-2"},"填寫資料"),(0,e.Lk)("div",{class:"position-absolute top-0 start-100 translate-middle d-inline mt-2",style:{width:"4rem"}},"訂單確認")])])])],-1),i={class:"row justify-content-center"},c={class:"col-11 col-md-10 border rounded mb-4 pt-4 mt-4"},b=(0,e.Lk)("div",{class:"text-center text-secondary mb-5"},[(0,e.Lk)("i",{class:"bi bi-check-circle text-success fs-1"}),(0,e.Lk)("div",{class:"fs-5 fw-bold"},"訂單已完成，謝謝您的訂購！"),(0,e.Lk)("div",{class:"fs-6 fw-bold"},"Thank you! Your order has been submitted!")],-1),u={class:"row justify-content-center mt-4"},k={class:"col-md-5"},L=(0,e.Lk)("p",{class:"fw-bold"},"訂購人資訊",-1),p=(0,e.Lk)("hr",null,null,-1),h={class:"table table-borderless"},v=(0,e.Lk)("td",null,"訂購人姓名",-1),m={class:"ps-4"},f=(0,e.Lk)("td",{width:"100"},"訂購人信箱",-1),g={class:"ps-4"},y=(0,e.Lk)("td",null,"收件人電話",-1),w={class:"ps-4"},x=(0,e.Lk)("td",null,"收件人地址",-1),C={class:"ps-4"},_={class:"col-md-5"},$=(0,e.Lk)("p",{class:"fw-bold"},"取貨及付款資訊",-1),A=(0,e.Lk)("hr",null,null,-1),D={class:"table table-borderless align-middle"},E=(0,e.Lk)("td",{width:"100"},"取貨方式",-1),O={class:"ps-4"},B=(0,e.Lk)("tr",null,[(0,e.Lk)("td",null,"取貨狀態"),(0,e.Lk)("td",{class:"ps-4 fw-bold"},"未取貨")],-1),F=(0,e.Lk)("td",null,"付款方式",-1),I={class:"ps-4"},T=(0,e.Lk)("td",null,"付款狀態",-1),j={class:"ps-4 fw-bold"},X={key:0},q={key:1,class:"text-success"},H=(0,e.Lk)("td",null,null,-1),K={class:"row justify-content-center mt-4"},N={class:"col-md-10"},U=(0,e.Lk)("p",{class:"fw-bold"},"商品資訊",-1),Y=(0,e.Lk)("hr",null,null,-1),z={class:"table align-middle table-borderless mb-4"},G=(0,e.Lk)("thead",null,[(0,e.Lk)("th",{style:{width:"6%"}}),(0,e.Lk)("th",{class:"px-2",style:{width:"40%"}},"商品"),(0,e.Lk)("th",{class:"",style:{width:"10%"}},"數量"),(0,e.Lk)("th",{class:"text-end mx-2",style:{width:"20%"}},"小計")],-1),J=["src"],M={class:"text-end"},P=(0,e.Lk)("td",{colspan:"3",class:"text-end fw-bold"},null,-1),Q={class:"text-end fw-bold"},R={class:"row justify-content-center p-0"},S={class:"col-md-10 col-12 text-end mb-4"};function V(t,s,l,V,W,Z){const tt=(0,e.g2)("LoadingOverlay");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(tt,{active:W.isLoading},{default:(0,e.k6)((()=>[d])),_:1},8,["active"]),(0,e.Lk)("div",n,[a,(0,e.Lk)("div",i,[(0,e.Lk)("div",c,[b,(0,e.Lk)("div",u,[(0,e.Lk)("div",k,[L,p,(0,e.Lk)("table",h,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[v,(0,e.Lk)("td",m,(0,o.v_)(W.order.user.name),1)]),(0,e.Lk)("tr",null,[f,(0,e.Lk)("td",g,(0,o.v_)(W.order.user.email),1)]),(0,e.Lk)("tr",null,[y,(0,e.Lk)("td",w,(0,o.v_)(W.order.user.tel),1)]),(0,e.Lk)("tr",null,[x,(0,e.Lk)("td",C,(0,o.v_)(W.order.user.address),1)])])])]),(0,e.Lk)("div",_,[$,A,(0,e.Lk)("table",D,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[E,(0,e.Lk)("td",O,(0,o.v_)(W.order.shipping)+" 自取",1)]),B,(0,e.Lk)("tr",null,[F,(0,e.Lk)("td",I,(0,o.v_)(W.order.pay)+" 現金",1)]),(0,e.Lk)("tr",null,[T,(0,e.Lk)("td",j,[W.order.is_paid?((0,e.uX)(),(0,e.CE)("span",q,"付款完成")):((0,e.uX)(),(0,e.CE)("span",X,"未付款"))])]),(0,e.Lk)("tr",null,[H,(0,e.Lk)("td",null,[(0,e.Lk)("button",{class:(0,o.C4)(["btn btn-danger mx-3",{"d-none":!0===W.order.is_paid}]),onClick:s[0]||(s[0]=(0,r.D$)(((...t)=>Z.payOrder&&Z.payOrder(...t)),["prevent"]))},"確認付款去",2)])])])])])]),(0,e.Lk)("div",K,[(0,e.Lk)("div",N,[U,Y,(0,e.Lk)("table",z,[G,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(W.order.products,(s=>((0,e.uX)(),(0,e.CE)("tr",{key:s.id},[(0,e.Lk)("td",null,[(0,e.Lk)("img",{src:s.product.imageUrl,style:{height:"30px"},alt:""},null,8,J)]),(0,e.Lk)("td",null,(0,o.v_)(s.product.title),1),(0,e.Lk)("td",null,(0,o.v_)(s.qty),1),(0,e.Lk)("td",M,"NT$ "+(0,o.v_)(t.$filters.currency(s.final_total)),1)])))),128))]),(0,e.Lk)("tfoot",null,[(0,e.Lk)("tr",null,[P,(0,e.Lk)("td",Q,"共 NT$ "+(0,o.v_)(t.$filters.currency(W.order.total)),1)])])])]),(0,e.Lk)("div",R,[(0,e.Lk)("div",S,[(0,e.Lk)("button",{class:"btn btn-outline-warning w-100",onClick:s[1]||(s[1]=(0,r.D$)(((...t)=>Z.backToHome&&Z.backToHome(...t)),["prevent"]))},"回到首頁")])])])])])])],64)}l(4114);var W={data(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.order=t.data.order,console.log("getOrder",t))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.isLoading=!1,console.log(t),t.data.success&&this.getOrder()}))},backToHome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Z=l(1241);const tt=(0,Z.A)(W,[["render",V]]);var st=tt}}]);
//# sourceMappingURL=534.ee558bcd.js.map