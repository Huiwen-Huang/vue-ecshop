{"version":3,"file":"js/406.56633343.js","mappings":"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","sources":["webpack://vue-ecshop/./src/stores/productStore.js","webpack://vue-ecshop/./src/components/ShopFooter.vue","webpack://vue-ecshop/./src/components/ShopFooter.vue?7ff5","webpack://vue-ecshop/./src/views/ShopProductsList.vue","webpack://vue-ecshop/./src/views/ShopProductsList.vue?6b07"],"sourcesContent":["import axios from 'axios'\nimport { defineStore } from 'pinia'\nimport statusStore from './statusStore'\nimport cartStore from './cartStore'\n\nconst status = statusStore()\nconst carts = cartStore()\n\nexport default defineStore('productState', {\n  state: () => {\n    return {\n      products: [],\n      categories: {},\n      pagination: {}\n    }\n  },\n  getters: {\n    // 商品以價格排序\n    // sortProducts: (state) =>\n    //   state.products.sort(\n    //     (a, b) => a.price - b.price\n    //   )\n  },\n  actions: {\n    // 取得產品列表_all\n    getAllProducts () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\n      status.isLoading = true\n      axios.get(api)\n        .then((res) => {\n          status.isLoading = false\n          console.log('getAllProducts', res.data)\n          this.products = res.data.products\n          // 分類項目\n          const unSort = this.products.map(item => {\n            return item.category\n          })\n          const sorted = unSort.filter((item, i) => {\n            return unSort.indexOf(item) === i\n          })\n          this.categories = sorted\n        })\n    },\n    // 取得產品列表_pagination\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`\n      status.isLoading = true\n      axios.get(api)\n        .then((res) => {\n          status.isLoading = false\n          console.log('getProducts', res.data)\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n          // 分類項目\n          const unSort = this.products.map(item => {\n            return item.category\n          })\n          const sorted = unSort.filter((item, i) => {\n            return unSort.indexOf(item) === i\n          })\n          this.categories = sorted\n        })\n    },\n    // 加入購物車\n    addCart (id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      status.cartLoadingItem = id\n      // 需要帶入參數\n      const cart = {\n        product_id: id,\n        qty: 1\n      }\n      axios.post(api, { data: cart }) // 帶入參數的方式要留意\n        .then((res) => {\n          status.cartLoadingItem = ''\n          // this.$httpMsgState(res, '加入購物車')\n          // status.pushMsg({ title: '商品已加入購物車' })\n          console.log('addCart', res)\n          if (res.data.success) {\n            carts.getCart()\n          }\n        })\n    }\n  }\n})\n","<template>\n  <div class=\"col-md-12 p-3 bg-light\">\n    <div class=\"d-flex justify-content-center\">\n      <div class=\"text-warning fw-bold\" href=\"#\">Hokii Poke</div>\n      <div class=\"fs-6 fw-light px-3\">© 2024. All Rights Reserved.</div>\n    </div>\n    <router-link to=\"/login\" class=\"text-decoration-none text-secondary\">\n        <div class=\"mt-2 text-center fw-light\">\n        <i class=\"bi bi-person-gear me-1\"></i>商店後台管理\n      </div>\n      </router-link>\n  </div>\n</template>\n","import { render } from \"./ShopFooter.vue?vue&type=template&id=4c2e6494\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ShopNavbar></ShopNavbar>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n  <!-- banner -->\n  <div class=\"container-fuild position-relative mb-4 animate__animated animate__fadeInUp\">\n    <img src=\"../assets/images/banner-3.jpg\" class=\"img-fuild opacity-50\" style=\"max-width: 100%; height: auto;\" alt=\"\">\n    <h1 class=\"text-center text-light fw-bold position-absolute translate-middle top-50 start-50\">Eat Healthy, Eat Fresh</h1>\n  </div>\n  <div class=\"container\">\n    <div class=\"row justify-content-center mt-4\" data-aos=\"fade-up\" data-aos-delay=\"200\">\n      <!-- 分類選單 -->\n      <div class=\"col-md-9 col-10 mb-4\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-md-2 col-6\">\n            <button type=\"button\"\n            class=\"btn btn-outline-warning fw-bold text-center mb-md-4 mb-2 w-100\"\n            :class=\"{ 'active': filterCategory === '' }\"\n            @click.prevent=\"filterCategory = ''\">全部商品\n            </button>\n          </div>\n          <div v-for=\"category in categories\" :key=\"category\" class=\"col-md-2 col-6\">\n            <button type=\"button\"\n            class=\"btn btn-outline-warning text-center mb-md-4 mb-2 w-100\"\n            :class=\"{ 'active': filterCategory === category }\"\n            @click.prevent=\"filterCategory = category\">{{ category }}\n            <!-- <span class=\"badge bg-light rounded-pill ms-5\">{{ sortProducts.length }}</span> -->\n            </button>\n          </div>\n        </div>\n      </div>\n      <!-- 產品卡片 -->\n      <div class=\"col-md-9 col-sm-12\">\n        <div class=\"row justify-content-center\">\n          <div>{{ filterCategories.category }}</div>\n          <div v-for=\"item in filterCategories\" :key=\"item.id\" class=\"card mx-md-3 mb-4 shadow rounded p-0\" style=\"width: 18rem;\">\n              <a href=\"\" @click.prevent=\"getProduct(item.id)\">\n                <div style=\"height: 200px; background-size: cover; background-position: top\"\n                    :style=\"{backgroundImage: `url(${item.imageUrl})`}\">\n                </div>\n              </a>\n            <div class=\"card-body\">\n              <h6 class=\"card-title mb-4\">{{ item.title }}\n                <span class=\"card-text float-end\">NT$ {{ item.price }}</span>\n              </h6>\n              <div class=\"d-flex justify-content-center\">\n                <button class=\"btn btn-outline-warning w-100\"\n                        :disabled=\"cartLoadingItem === item.id\"\n                        @click=\"addCart(item.id)\">\n                  <div v-if=\"cartLoadingItem === item.id\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                  <i class=\"bi bi-cart4\"></i> 加入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 頁籤 -->\n    <!-- <PaginationCard :pages=\"pagination\" @emit-pages=\"getProducts\"></PaginationCard> -->\n    <CartCanvas ref=\"canvas\"></CartCanvas>\n  </div>\n  <ShopFooter></ShopFooter>\n</template>\n\n<script>\nimport CartCanvas from '@/components/CartCanvas.vue'\nimport ShopNavbar from '@/components/ShopNavbar.vue'\nimport ShopFooter from '@/components/ShopFooter.vue'\n// import PaginationCard from '@/components/PaginationCard.vue'\nimport productStore from '@/stores/productStore'\nimport statusStore from '@/stores/statusStore'\nimport cartStore from '@/stores/cartStore'\nimport { mapState, mapActions } from 'pinia'\n\nexport default {\n  data () {\n    return {\n      filterCategory: ''\n    }\n  },\n  components: {\n    ShopNavbar,\n    ShopFooter,\n    CartCanvas\n  },\n  inject: ['emitter'],\n  computed: {\n    ...mapState(productStore, ['products', 'categories']),\n    ...mapState(statusStore, ['isLoading', 'cartLoadingItem']),\n    ...mapState(cartStore, ['carts']),\n    // 篩選分類品項\n    filterCategories () {\n      let filterProducts = this.products\n      if (this.filterCategory) {\n        filterProducts = filterProducts.filter((item) => {\n          return item.category\n            .toLowerCase()\n            .includes(this.filterCategory.toLowerCase())\n        })\n      }\n      return filterProducts.sort(\n        (a, b) => a.price - b.price\n      )\n    }\n  },\n  methods: {\n    // 取得產品列表\n    ...mapActions(productStore, ['getAllProducts']),\n    ...mapActions(productStore, ['getProducts']),\n    // 取得購物車數量\n    ...mapActions(cartStore, ['getCart']),\n    // 進入單一商品介紹頁\n    getProduct (id) {\n      this.$router.push(`/product/${id}`)\n    },\n    // 加入購物車\n    // ...mapActions(productStore, ['addCart'])\n    // 加入購物車+顯示側欄\n    addCart (id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.cartLoadingItem = id\n      // 需要帶入參數\n      const cart = {\n        product_id: id,\n        qty: 1\n      }\n      this.axios.post(api, { data: cart }) // 帶入參數的方式要留意\n        .then((res) => {\n          this.cartLoadingItem = ''\n          // this.$httpMsgState(res, '加入購物車')\n          // status.pushMsg({ title: '商品已加入購物車' })\n          console.log('addCart', res)\n          if (res.data.success) {\n            this.getCart()\n            this.$refs.canvas.showCanvas()\n          }\n        })\n    }\n  },\n  created () {\n    this.getAllProducts()\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./ShopProductsList.vue?vue&type=template&id=6b9465e0\"\nimport script from \"./ShopProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ShopProductsList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","carts","cartStore","defineStore","state","products","categories","pagination","getters","actions","getAllProducts","api","isLoading","axios","get","then","res","console","log","data","this","unSort","map","item","category","sorted","filter","i","indexOf","getProducts","page","addCart","id","cartLoadingItem","cart","product_id","qty","post","success","getCart","class","_createElementVNode","href","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_hoisted_3","_","script","__exports__","render","src","_imports_0","style","alt","key","role","_hoisted_17","_Fragment","_component_ShopNavbar","_component_LoadingOverlay","active","_ctx","_hoisted_4","_hoisted_5","_hoisted_6","type","_normalizeClass","$data","filterCategory","onClick","_cache","_withModifiers","$event","_renderList","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","$options","filterCategories","getProduct","_normalizeStyle","backgroundImage","imageUrl","_hoisted_10","_hoisted_11","_hoisted_12","title","_hoisted_13","price","_hoisted_14","disabled","_hoisted_16","_hoisted_18","_createCommentVNode","_hoisted_19","_hoisted_15","_component_CartCanvas","ref","_component_ShopFooter","components","ShopNavbar","ShopFooter","CartCanvas","inject","computed","mapState","productStore","filterProducts","toLowerCase","includes","sort","a","b","methods","mapActions","$router","push","$refs","canvas","showCanvas","created"],"sourceRoot":""}