"use strict";(self["webpackChunkvue_ecshop"]=self["webpackChunkvue_ecshop"]||[]).push([[558],{558:function(t,s,e){e.r(s),e.d(s,{default:function(){return V}});var l=e(6768),r=e(4232),d=e(5130);const a={class:"container"},o={class:"row justify-content-center"},n=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-md-8 mx-auto"},[(0,l.Lk)("div",{class:"position-relative m-4"},[(0,l.Lk)("div",{class:"progress",style:{height:"1px"}},[(0,l.Lk)("div",{class:"progress-bar",role:"progressbar",style:{width:"50%"},"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"})]),(0,l.Lk)("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}},"1"),(0,l.Lk)("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}},"2"),(0,l.Lk)("button",{type:"button",class:"position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill",style:{width:"2rem",height:"2rem"}},"3")])])],-1),i=(0,l.Lk)("div",{class:"w-50 mb-4"},[(0,l.Lk)("div",null,[(0,l.Lk)("span",{class:"border bg-secondary text-light rounded-circle py-3 px-4"},"1"),(0,l.Lk)("span",{class:"border rounded-circle py-2 px-3"},"2"),(0,l.Lk)("span",{class:"border rounded-circle py-3 px-4"},"3")])],-1),c={class:"col-11 col-md-10 border rounded mb-4 pt-4"},u=(0,l.Lk)("div",{class:"text-center text-secondary mb-5"},[(0,l.Lk)("i",{class:"bi bi-check-circle text-success fs-1"}),(0,l.Lk)("div",{class:"fs-5 fw-bold"},"訂單已完成，謝謝您的訂購！"),(0,l.Lk)("div",{class:"fs-6 fw-bold"},"Thank you! Your order has been submitted!")],-1),k={class:"row justify-content-center mt-4"},L={class:"col-md-5"},p=(0,l.Lk)("p",{class:"fs-5 fw-bold"},"訂購人資訊",-1),b=(0,l.Lk)("hr",null,null,-1),h={class:"table table-borderless"},v=(0,l.Lk)("td",{width:"100"},"訂購人信箱",-1),m={class:"ps-4"},y=(0,l.Lk)("td",null,"訂購人姓名",-1),g={class:"ps-4"},f=(0,l.Lk)("td",null,"收件人電話",-1),w={class:"ps-4"},x=(0,l.Lk)("td",null,"收件人地址",-1),_={class:"ps-4"},$={class:"col-md-5"},C=(0,l.Lk)("p",{class:"fs-5 fw-bold"},"取貨及付款資訊",-1),I=(0,l.Lk)("hr",null,null,-1),O={class:"table table-borderless"},T=(0,l.Lk)("tr",null,[(0,l.Lk)("td",{width:"100"},"取貨方式"),(0,l.Lk)("td",{class:"ps-4"},"自取")],-1),E=(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,"取貨狀態"),(0,l.Lk)("td",{class:"ps-4 fw-bold"},"未取貨")],-1),X=(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,"付款方式"),(0,l.Lk)("td",{class:"ps-4"},"現金")],-1),F=(0,l.Lk)("td",null,"付款狀態",-1),N={class:"ps-4 fw-bold"},j={key:0},H={key:1,class:"text-success"},A={class:"row justify-content-center mt-4"},D={class:"col-md-10"},K=(0,l.Lk)("p",{class:"fs-5 fw-bold"},"商品資訊",-1),S=(0,l.Lk)("hr",null,null,-1),q={class:"table align-middle table-borderless mb-4"},z=(0,l.Lk)("thead",null,[(0,l.Lk)("th",{style:{width:"6%"}}),(0,l.Lk)("th",{class:"px-2"},"商品"),(0,l.Lk)("th",{class:"px-2"},"數量"),(0,l.Lk)("th",{class:"text-end px-2"},"小計")],-1),U={class:"text-end"},Y=(0,l.Lk)("td",{colspan:"3",class:"text-end fw-bold"},null,-1),B={class:"text-end fw-bold"},G={class:"col-md-10 text-end mb-4"};function J(t,s,e,J,M,P){const Q=(0,l.g2)("ShopNavbar"),R=(0,l.g2)("LoadingOverlay");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(Q),(0,l.bF)(R,{active:M.isLoading},null,8,["active"]),(0,l.Lk)("div",a,[(0,l.Lk)("div",o,[n,i,(0,l.Lk)("div",c,[u,(0,l.Lk)("div",k,[(0,l.Lk)("div",L,[p,b,(0,l.Lk)("table",h,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[v,(0,l.Lk)("td",m,(0,r.v_)(M.order.user.email),1)]),(0,l.Lk)("tr",null,[y,(0,l.Lk)("td",g,(0,r.v_)(M.order.user.name),1)]),(0,l.Lk)("tr",null,[f,(0,l.Lk)("td",w,(0,r.v_)(M.order.user.tel),1)]),(0,l.Lk)("tr",null,[x,(0,l.Lk)("td",_,(0,r.v_)(M.order.user.address),1)])])])]),(0,l.Lk)("div",$,[C,I,(0,l.Lk)("table",O,[(0,l.Lk)("tbody",null,[T,E,X,(0,l.Lk)("tr",null,[F,(0,l.Lk)("td",N,[M.order.is_paid?((0,l.uX)(),(0,l.CE)("span",H,"付款完成")):((0,l.uX)(),(0,l.CE)("span",j,"尚未付款"))])])])])])]),(0,l.Lk)("div",A,[(0,l.Lk)("div",D,[K,S,(0,l.Lk)("table",q,[z,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(M.order.products,(s=>((0,l.uX)(),(0,l.CE)("tr",{key:s.id},[(0,l.Lk)("td",null,[(0,l.Lk)("div",{style:(0,r.Tr)([{height:"40px","background-size":"cover","background-position":"top"},{backgroundImage:`url(${s.product.imageUrl})`}])},null,4)]),(0,l.Lk)("td",null,(0,r.v_)(s.product.title),1),(0,l.Lk)("td",null,(0,r.v_)(s.qty)+" / "+(0,r.v_)(s.product.unit),1),(0,l.Lk)("td",U,"NT$ "+(0,r.v_)(t.$filters.currency(s.final_total)),1)])))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[Y,(0,l.Lk)("td",B,"共 NT$ "+(0,r.v_)(t.$filters.currency(M.order.total)),1)])])])]),(0,l.Lk)("div",G,[(0,l.Lk)("button",{class:(0,r.C4)(["btn btn-danger",{"d-none":!0===M.order.is_paid}]),onClick:s[0]||(s[0]=(0,d.D$)(((...t)=>P.payOrder&&P.payOrder(...t)),["prevent"]))},"確認付款去",2),(0,l.Lk)("button",{class:(0,r.C4)(["btn btn-outline-warning",{"d-inline":!0===M.order.is_paid}]),onClick:s[1]||(s[1]=(0,d.D$)(((...t)=>P.backToHome&&P.backToHome(...t)),["prevent"]))},"回到首頁",2)])])])])])],64)}e(4114);var M=e(2258),P={data(){return{orderId:"",order:{user:{}},isLoading:!1}},components:{ShopNavbar:M.A},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.isLoading=!1,console.log(t),t.data.success&&this.getOrder()}))},backToHome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Q=e(1241);const R=(0,Q.A)(P,[["render",J]]);var V=R}}]);
//# sourceMappingURL=558.1a2dd16e.js.map