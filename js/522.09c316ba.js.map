{"version":3,"file":"js/522.09c316ba.js","mappings":"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","sources":["webpack://vue-ecshop/./src/views/ShopCheckoutInfo.vue","webpack://vue-ecshop/./src/views/ShopCheckoutInfo.vue?22b9"],"sourcesContent":["<template>\n  <ShopNavbar></ShopNavbar>\n  <div class=\"container\">\n    <!-- 進度條 -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-8 mx-auto\">\n          <div class=\"position-relative m-4\">\n            <div class=\"progress\" style=\"height: 1px;\">\n              <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 50%;\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n            <button type=\"button\" class=\"position-absolute top-0 start-0 translate-middle btn btn-sm btn-secondary rounded-pill\" style=\"width: 2rem; height:2rem;\">1</button>\n            <button type=\"button\" class=\"position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill\" style=\"width: 2rem; height:2rem;\">2</button>\n            <button type=\"button\" class=\"position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill\" style=\"width: 2rem; height:2rem;\">3</button>\n          </div>\n        </div>\n      </div>\n    <!-- 訂購人資訊 -->\n    <div class=\"row justify-content-around\">\n      <!-- 左側欄 -->\n      <form class=\"col-md-7 rounded\">\n        <h6 class=\"bg-light p-3\">訂購人資訊</h6>\n        <div class=\"border rounded mb-4 p-3\">\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">訂購人姓名</label>\n            <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"form.user.name\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">訂購人電話</label>\n            <input type=\"text\" class=\"form-control\" id=\"tel\" v-model=\"form.user.tel\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"eamil\" class=\"form-label\">訂購人信箱</label>\n            <input type=\"email\" class=\"form-control\" id=\"eamil\" v-model=\"form.user.email\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">取貨地址</label>\n            <input type=\"text\" class=\"form-control\" id=\"address\" v-model=\"form.user.address\">\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"note\" class=\"form-label\">訂單備註</label>\n            <textarea class=\"form-control\" id=\"note\" rows=\"3\" v-model=\"form.message\"></textarea>\n          </div>\n        </div>\n      </form>\n      <!-- 右側欄 -->\n      <div class=\"col-md-5\">\n        <!-- 送貨、付款方式 -->\n        <h6 class=\"bg-light p-3\">取貨及付款資訊</h6>\n        <div class=\"border rounded mb-3 p-3\">\n          <div class=\"mb-4\">\n            <label for=\"shipping\" class=\"mb-2\">取貨方式</label>\n            <select class=\"form-select\" aria-label=\"Default select example\" id=\"shipping\">\n              <option value=\"1\">自取</option>\n              <option value=\"2\">外送</option>\n            </select>\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"pay\" class=\"mb-2\">付款方式</label>\n            <select class=\"form-select\" aria-label=\"Default select example\" id=\"pay\">\n              <option value=\"1\">現金</option>\n              <option value=\"2\">信用卡</option>\n            </select>\n          </div>\n        </div>\n        <!-- 訂單資訊 -->\n        <h6 class=\"bg-light p-3\">訂單資訊</h6>\n        <div class=\"p-3 border rounded mb-3\">\n          <div class=\"w-100\">\n            <p class=\"mb-3\">合計\n              <span class=\"float-end\">NT$ {{ $filters.currency(this.total) }}</span>\n            </p>\n            <div v-if=\"this.total !== this.finalTotal\" class=\"mb-4\">\n              <p class=\"text-warning fw-bold\">套用優惠代碼\n                <span class=\"float-end\">- {{ this.carts[0]?.coupon?.percent }}%</span>\n              </p>\n            </div>\n            <p class=\"fw-bold border-top pt-2\">結帳總金額\n              <span class=\"float-end fw-bold\">NT$ {{ $filters.currency(this.finalTotal) }}</span>\n            </p>\n          </div>\n        </div>\n        <!-- 按鈕 -->\n        <div class=\"mb-4 d-flex align-items-center justify-content-between\">\n          <a href=\"\" class=\"link text-secondary\" @click.prevent=\"backToCart\">← 返回購物車</a>\n          <button class=\"btn btn-warning\" @click.prevent=\"addOrder\">送出訂單</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ShopNavbar from '@/components/ShopNavbar.vue'\nimport cartStore from '@/stores/cartStore'\nimport { mapState, mapActions } from 'pinia'\n\nexport default {\n  data () {\n    return {\n      form: {\n        user: {\n          name: '',\n          tel: '',\n          email: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  components: {\n    ShopNavbar\n  },\n  computed: {\n    ...mapState(cartStore, ['total', 'finalTotal', 'carts'])\n  },\n  methods: {\n    // 取購物車列表\n    ...mapActions(cartStore, ['getCart']),\n    addOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.isLoading = true\n      this.$http.post(api, { data: order })\n        .then(res => {\n          this.isLoading = false\n          console.log(res)\n          if (res.data.success) {\n            this.$router.push(`/checkout/${res.data.orderId}`)\n          }\n        })\n    },\n    backToCart () {\n      this.$router.push('/cart')\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./ShopCheckoutInfo.vue?vue&type=template&id=9e4712fe\"\nimport script from \"./ShopCheckoutInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCheckoutInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","role","type","for","_createStaticVNode","key","_createElementBlock","_Fragment","_createVNode","_component_ShopNavbar","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","id","_cache","$event","$data","form","user","name","_hoisted_9","_hoisted_10","tel","_hoisted_11","_hoisted_12","email","_hoisted_13","_hoisted_14","address","_hoisted_15","_hoisted_16","rows","message","_hoisted_17","_hoisted_18","_hoisted_21","_hoisted_22","_hoisted_23","_createTextVNode","_hoisted_24","_toDisplayString","_ctx","$filters","currency","this","total","finalTotal","_hoisted_25","_hoisted_26","_hoisted_27","carts","coupon","percent","_createCommentVNode","_hoisted_28","_hoisted_29","_hoisted_30","href","onClick","_withModifiers","args","$options","backToCart","addOrder","data","components","ShopNavbar","computed","mapState","cartStore","methods","mapActions","api","order","isLoading","$http","post","then","res","console","log","success","$router","push","orderId","created","getCart","__exports__","render"],"sourceRoot":""}