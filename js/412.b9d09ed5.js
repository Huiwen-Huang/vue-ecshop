"use strict";(self["webpackChunkvue_ecshop"]=self["webpackChunkvue_ecshop"]||[]).push([[412],{9412:function(t,s,l){l.r(s),l.d(s,{default:function(){return st}});var e=l(6768),o=l(4232),r=l(5130);const d={class:"container"},a=(0,e.Lk)("div",{class:"row mb-4"},[(0,e.Lk)("div",{class:"col-md-8 col-10 mx-auto"},[(0,e.Lk)("div",{class:"position-relative m-4"},[(0,e.Lk)("div",{class:"progress",style:{height:"2px"}},[(0,e.Lk)("div",{class:"progress-bar",role:"progressbar",style:{width:"100%","--bs-progress-bar-bg":"#D6EADF"},"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"})]),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#D6EADF","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"1"),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#D6EADF","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"2"),(0,e.Lk)("button",{type:"button",class:"position-absolute top-0 start-100 translate-middle btn btn-sm rounded-pill",style:{width:"2rem",height:"2rem","--bs-btn-bg":"#A7C4B5","--bs-btn-color":"#fff","--bs-btn-hover-color":"#fff","--bs-btn-hover-bg":"#A7C4B5","--bs-btn-active-color":"#fff","--bs-btn-active-bg":"#A7C4B5"}},"3")])]),(0,e.Lk)("div",{class:"row"},[(0,e.Lk)("div",{class:"col-md-8 col-10 mx-auto"},[(0,e.Lk)("div",{class:"position-relative m-2"},[(0,e.Lk)("div",{class:"position-absolute top-0 start-0 translate-middle d-inline mt-2 ms-4"},"購物車"),(0,e.Lk)("div",{class:"position-absolute top-0 start-50 translate-middle d-inline mt-2 ms-2"},"填寫資料"),(0,e.Lk)("div",{class:"position-absolute top-0 start-100 translate-middle d-inline mt-2",style:{width:"4rem"}},"訂單確認")])])])],-1),n={class:"row justify-content-center"},i={class:"col-11 col-md-10 border rounded mb-4 pt-4 mt-4"},c=(0,e.Lk)("div",{class:"text-center text-secondary mb-5"},[(0,e.Lk)("i",{class:"bi bi-check-circle text-success fs-1"}),(0,e.Lk)("div",{class:"fs-5 fw-bold"},"訂單已完成，謝謝您的訂購！"),(0,e.Lk)("div",{class:"fs-6 fw-bold"},"Thank you! Your order has been submitted!")],-1),b={class:"row justify-content-center mt-4"},u={class:"col-md-5"},k=(0,e.Lk)("p",{class:"fw-bold"},"訂購人資訊",-1),L=(0,e.Lk)("hr",null,null,-1),p={class:"table table-borderless"},h=(0,e.Lk)("td",null,"訂購人姓名",-1),v={class:"ps-4"},m=(0,e.Lk)("td",{width:"100"},"訂購人信箱",-1),f={class:"ps-4"},g=(0,e.Lk)("td",null,"收件人電話",-1),y={class:"ps-4"},w=(0,e.Lk)("td",null,"收件人地址",-1),x={class:"ps-4"},C={class:"col-md-5"},_=(0,e.Lk)("p",{class:"fw-bold"},"取貨及付款資訊",-1),A=(0,e.Lk)("hr",null,null,-1),$={class:"table table-borderless align-middle"},D=(0,e.Lk)("td",{width:"100"},"取貨方式",-1),E={class:"ps-4"},O=(0,e.Lk)("tr",null,[(0,e.Lk)("td",null,"取貨狀態"),(0,e.Lk)("td",{class:"ps-4 fw-bold"},"未取貨")],-1),B=(0,e.Lk)("td",null,"付款方式",-1),F={class:"ps-4"},I=(0,e.Lk)("td",null,"付款狀態",-1),T={class:"ps-4 fw-bold"},X={key:0},j={key:1,class:"text-success"},N=(0,e.Lk)("td",null,null,-1),H={class:"row justify-content-center mt-4"},K={class:"col-md-10"},S=(0,e.Lk)("p",{class:"fw-bold"},"商品資訊",-1),q=(0,e.Lk)("hr",null,null,-1),U={class:"table align-middle table-borderless mb-4"},Y=(0,e.Lk)("thead",null,[(0,e.Lk)("th",{style:{width:"6%"}}),(0,e.Lk)("th",{class:"px-2",style:{width:"40%"}},"商品"),(0,e.Lk)("th",{class:"",style:{width:"10%"}},"數量"),(0,e.Lk)("th",{class:"text-end mx-2",style:{width:"20%"}},"小計")],-1),z=["src"],G={class:"text-end"},J=(0,e.Lk)("td",{colspan:"3",class:"text-end fw-bold"},null,-1),M={class:"text-end fw-bold"},P={class:"row justify-content-center p-0"},Q={class:"col-md-10 col-12 text-end mb-4"};function R(t,s,l,R,V,W){const Z=(0,e.g2)("ShopNavbar"),tt=(0,e.g2)("LoadingOverlay");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(Z),(0,e.bF)(tt,{active:V.isLoading},null,8,["active"]),(0,e.Lk)("div",d,[a,(0,e.Lk)("div",n,[(0,e.Lk)("div",i,[c,(0,e.Lk)("div",b,[(0,e.Lk)("div",u,[k,L,(0,e.Lk)("table",p,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[h,(0,e.Lk)("td",v,(0,o.v_)(V.order.user.name),1)]),(0,e.Lk)("tr",null,[m,(0,e.Lk)("td",f,(0,o.v_)(V.order.user.email),1)]),(0,e.Lk)("tr",null,[g,(0,e.Lk)("td",y,(0,o.v_)(V.order.user.tel),1)]),(0,e.Lk)("tr",null,[w,(0,e.Lk)("td",x,(0,o.v_)(V.order.user.address),1)])])])]),(0,e.Lk)("div",C,[_,A,(0,e.Lk)("table",$,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[D,(0,e.Lk)("td",E,(0,o.v_)(V.order.shipping)+" 自取",1)]),O,(0,e.Lk)("tr",null,[B,(0,e.Lk)("td",F,(0,o.v_)(V.order.pay)+" 現金",1)]),(0,e.Lk)("tr",null,[I,(0,e.Lk)("td",T,[V.order.is_paid?((0,e.uX)(),(0,e.CE)("span",j,"付款完成")):((0,e.uX)(),(0,e.CE)("span",X,"未付款"))])]),(0,e.Lk)("tr",null,[N,(0,e.Lk)("td",null,[(0,e.Lk)("button",{class:(0,o.C4)(["btn btn-danger mx-3",{"d-none":!0===V.order.is_paid}]),onClick:s[0]||(s[0]=(0,r.D$)(((...t)=>W.payOrder&&W.payOrder(...t)),["prevent"]))},"確認付款去",2)])])])])])]),(0,e.Lk)("div",H,[(0,e.Lk)("div",K,[S,q,(0,e.Lk)("table",U,[Y,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(V.order.products,(s=>((0,e.uX)(),(0,e.CE)("tr",{key:s.id},[(0,e.Lk)("td",null,[(0,e.Lk)("img",{src:s.product.imageUrl,style:{height:"30px"},alt:""},null,8,z)]),(0,e.Lk)("td",null,(0,o.v_)(s.product.title),1),(0,e.Lk)("td",null,(0,o.v_)(s.qty),1),(0,e.Lk)("td",G,"NT$ "+(0,o.v_)(t.$filters.currency(s.final_total)),1)])))),128))]),(0,e.Lk)("tfoot",null,[(0,e.Lk)("tr",null,[J,(0,e.Lk)("td",M,"共 NT$ "+(0,o.v_)(t.$filters.currency(V.order.total)),1)])])])]),(0,e.Lk)("div",P,[(0,e.Lk)("div",Q,[(0,e.Lk)("button",{class:"btn btn-outline-warning w-100",onClick:s[1]||(s[1]=(0,r.D$)(((...t)=>W.backToHome&&W.backToHome(...t)),["prevent"]))},"回到首頁")])])])])])])],64)}l(4114);var V=l(3885),W={data(){return{orderId:"",order:{user:{}},isLoading:!1}},components:{ShopNavbar:V.A},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.order=t.data.order,console.log("getOrder",t))}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.isLoading=!1,console.log(t),t.data.success&&this.getOrder()}))},backToHome(){this.$router.push("/")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Z=l(1241);const tt=(0,Z.A)(W,[["render",R]]);var st=tt}}]);
//# sourceMappingURL=412.b9d09ed5.js.map