{"version":3,"file":"js/381.1b787f2a.js","mappings":"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","sources":["webpack://vue-ecshop/./src/components/PaginationCard.vue","webpack://vue-ecshop/./src/components/PaginationCard.vue?24c6","webpack://vue-ecshop/./src/views/ShopProductsList.vue","webpack://vue-ecshop/./src/views/ShopProductsList.vue?6b07"],"sourcesContent":["<template>\n<div class=\"d-flex justify-content-center\">\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item text-warning\" :class=\"{ 'disabled': pages.has_pre === false}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePage(pages.current_page-1)\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{ 'active': page === pages.current_page}\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a></li>\n      <li class=\"page-item\" :class=\"{ 'disabled': pages.has_next === false}\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePage(pages.current_page+1)\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</div>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage (page) {\n      this.$emit('emit-pages', page)\n    }\n  }\n}\n</script>\n","import { render } from \"./PaginationCard.vue?vue&type=template&id=30728a4c\"\nimport script from \"./PaginationCard.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n  <div class=\"container\">\n    <div class=\"row mt-4\">\n      <!-- 產品列表 -->\n      <!-- <div class=\"col\">\n        <table class=\"table align-middle\">\n          <thead>\n            <tr>\n              <th class=\"text-center\">圖片</th>\n              <th class=\"text-center\" style=\"width:30%\">商品名稱</th>\n              <th class=\"text-center\" style=\"width:20%\">價格</th>\n              <th style=\"width:30%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\">\n              <td class=\"text-center\" style=\"width:200px\">\n                <div style=\"height: 200px; background-size: cover; background-position: top\"\n                  :style=\"{backgroundImage: `url(${item.imageUrl})`}\"></div>\n              </td>\n              <td class=\"text-center\">{{ item.title }}</td>\n              <td class=\"text-center\">{{ item.price }}</td>\n              <td class=\"text-center\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"getProduct(item.id)\">查看更多</button>\n                <button class=\"btn btn-outline-danger\"\n                        :disabled=\"this.status.loadingItem === item.id\"\n                        @click=\"addCart(item.id)\">\n                  <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm text-danger\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n                  <i class=\"bi bi-cart4\"></i> 加入購物車\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div> -->\n      <!-- 產品卡片 -->\n      <div class=\"col d-flex flex-wrap justify-content-center\">\n        <template v-for=\"item in products\" :key=\"item.id\">\n          <div class=\"card mx-4 mb-4 shadow rounded\" style=\"width: 18rem;\">\n          <div style=\"height: 200px; background-size: cover; background-position: top\"\n                  :style=\"{backgroundImage: `url(${item.imageUrl})`}\"></div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ item.title }}</h5>\n            <p class=\"card-text\">NT$ {{ item.price }}</p>\n            <div class=\"d-flex justify-content-center\">\n              <button type=\"button\" class=\"btn btn-outline-secondary me-2\" @click=\"getProduct(item.id)\">查看更多</button>\n              <button class=\"btn btn-outline-warning\"\n                      :disabled=\"this.status.loadingItem === item.id\"\n                      @click=\"addCart(item.id)\">\n                <div v-if=\"this.status.loadingItem === item.id\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n                  <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <i class=\"bi bi-cart4\"></i> 加入購物車\n              </button>\n            </div>\n          </div>\n          </div>\n        </template>\n      </div>\n    </div>\n    <!-- 頁籤 -->\n    <PaginationCard :pages=\"pagination\" @emit-pages=\"getProducts\"></PaginationCard>\n  </div>\n</template>\n\n<script>\nimport PaginationCard from '@/components/PaginationCard.vue'\n\nexport default {\n  data () {\n    return {\n      products: [],\n      pagination: {},\n      isLoading: false,\n      status: {\n        loadingItem: '' // 對應品項 ID\n      }\n    }\n  },\n  components: {\n    PaginationCard\n  },\n  inject: ['emitter'],\n  methods: {\n    // 取得產品列表\n    getProducts (page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/?page=${page}`\n      this.isLoading = true\n      this.$http.get(api)\n        .then((res) => {\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n          this.isLoading = false\n          console.log(res.data)\n        })\n    },\n    // 進入單一商品介紹頁\n    getProduct (id) {\n      this.$router.push(`/shop/product/${id}`)\n    },\n    addCart (id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.status.loadingItem = id\n      // 需要帶入參數\n      const cart = {\n        product_id: id,\n        qty: 1\n      }\n      this.$http.post(api, { data: cart }) // 帶入參數的方式要留意\n        .then((res) => {\n          this.status.loadingItem = ''\n          this.$httpMsgState(res, '加入購物車')\n          console.log(res)\n        })\n    }\n  },\n  created () {\n    this.getProducts()\n  }\n}\n</script>\n","import { render } from \"./ShopProductsList.vue?vue&type=template&id=13fb6361\"\nimport script from \"./ShopProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ShopProductsList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_7","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_hoisted_5","_Fragment","_renderList","total_pages","page","key","_hoisted_6","has_next","_hoisted_8","props","methods","this","$emit","__exports__","render","role","_hoisted_11","_createVNode","_component_LoadingOverlay","active","$data","isLoading","products","item","id","style","_normalizeStyle","backgroundImage","imageUrl","_toDisplayString","title","price","type","getProduct","disabled","status","loadingItem","addCart","_hoisted_10","_hoisted_12","_createCommentVNode","_hoisted_13","_createTextVNode","_hoisted_9","_component_PaginationCard","pagination","onEmitPages","getProducts","data","components","PaginationCard","inject","api","$http","get","then","res","console","log","$router","push","cart","product_id","qty","post","$httpMsgState","created"],"sourceRoot":""}