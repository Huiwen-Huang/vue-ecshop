"use strict";(self["webpackChunkvue_ecshop"]=self["webpackChunkvue_ecshop"]||[]).push([[980],{9980:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var r=s(6768),l=s(4232),d=s(5130);const n={class:"my-5 row justify-content-center"},a=(0,r.Lk)("h3",{class:"text-center text-secondary mb-4"},"訂單已完成，謝謝您的訂單！",-1),o={class:"col-md-6 mt-4"},c=(0,r.Lk)("p",{class:"text-center fs-5 fw-bold"},"商品資訊",-1),u=(0,r.Lk)("hr",null,null,-1),i={class:"table align-middle table-borderless mb-4"},k=(0,r.Lk)("thead",null,[(0,r.Lk)("th",{class:"px-2"},"商品"),(0,r.Lk)("th",{class:"px-2"},"數量"),(0,r.Lk)("th",{class:"text-end px-2"},"小計")],-1),L={class:"text-end"},h=(0,r.Lk)("td",{colspan:"2",class:"text-end fw-bold"},"總計",-1),p={class:"text-end"},v=(0,r.Lk)("p",{class:"text-center fs-5 fw-bold mt-4"},"訂購人資訊",-1),b=(0,r.Lk)("hr",null,null,-1),f={class:"table table-borderless text-center"},x=(0,r.Lk)("th",{width:"100"},"訂購人信箱",-1),y={class:"ps-4"},g=(0,r.Lk)("th",null,"訂購人姓名",-1),_={class:"ps-4"},m=(0,r.Lk)("th",null,"收件人電話",-1),$={class:"ps-4"},C=(0,r.Lk)("th",null,"收件人地址",-1),w={class:"ps-4"},O=(0,r.Lk)("th",null,"付款狀態",-1),I={class:"ps-4"},E={key:0},X={key:1,class:"text-success"},F={class:"text-end"};function K(t,e,s,K,N,T){const j=(0,r.g2)("LoadingOverlay");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(j,{active:N.isLoading},null,8,["active"]),(0,r.Lk)("div",n,[a,(0,r.Lk)("form",o,[c,u,(0,r.Lk)("table",i,[k,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(N.order.products,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,l.v_)(e.product.title),1),(0,r.Lk)("td",null,(0,l.v_)(e.qty)+" / "+(0,l.v_)(e.product.unit),1),(0,r.Lk)("td",L,"NT$ "+(0,l.v_)(t.$filters.currency(e.final_total)),1)])))),128))]),(0,r.Lk)("tfoot",null,[(0,r.Lk)("tr",null,[h,(0,r.Lk)("td",p,"NT$ "+(0,l.v_)(t.$filters.currency(N.order.total)),1)])])]),v,b,(0,r.Lk)("table",f,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[x,(0,r.Lk)("td",y,(0,l.v_)(N.order.user.email),1)]),(0,r.Lk)("tr",null,[g,(0,r.Lk)("td",_,(0,l.v_)(N.order.user.name),1)]),(0,r.Lk)("tr",null,[m,(0,r.Lk)("td",$,(0,l.v_)(N.order.user.tel),1)]),(0,r.Lk)("tr",null,[C,(0,r.Lk)("td",w,(0,l.v_)(N.order.user.address),1)]),(0,r.Lk)("tr",null,[O,(0,r.Lk)("td",I,[N.order.is_paid?((0,r.uX)(),(0,r.CE)("span",X,"付款完成")):((0,r.uX)(),(0,r.CE)("span",E,"尚未付款"))])])])]),(0,r.Lk)("div",F,[(0,r.Lk)("button",{class:(0,l.C4)(["btn btn-danger",{"d-none":!0===N.order.is_paid}]),onClick:e[0]||(e[0]=(0,d.D$)(((...t)=>T.payOrder&&T.payOrder(...t)),["prevent"]))},"確認付款去",2)])])])],64)}var N={data(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/ecshop-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.isLoading=!1,console.log(t),t.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},T=s(1241);const j=(0,T.A)(N,[["render",K]]);var q=j}}]);
//# sourceMappingURL=980.0e5ae58a.js.map