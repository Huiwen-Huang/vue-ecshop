{"version":3,"file":"js/844.dba20e10.js","mappings":"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","sources":["webpack://vue-ecshop/./src/stores/cartStore.js","webpack://vue-ecshop/./src/stores/statusStore.js","webpack://vue-ecshop/./src/views/ShopCheckoutInfo.vue","webpack://vue-ecshop/./src/views/ShopCheckoutInfo.vue?22b9"],"sourcesContent":["import axios from 'axios'\nimport { defineStore } from 'pinia'\nimport statusStore from './statusStore'\n\nconst status = statusStore()\n\nexport default defineStore('cartState', {\n  state: () => {\n    return {\n      carts: [],\n      total: '',\n      finalTotal: ''\n    }\n  },\n  actions: {\n    // 取購物車列表\n    getCart () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      status.isLoading = true\n      axios.get(api)\n        .then((res) => {\n          status.isLoading = false\n          console.log('getCart', res)\n          if (res.data.success) {\n            this.carts = res.data.data.carts\n            this.total = res.data.data.total\n            this.finalTotal = res.data.data.final_total\n          }\n        })\n    },\n    // 更新購物車價格\n    updateCart (item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      status.isLoading = true\n      status.cartLoadingItem = item.id\n      axios.put(api, { data: cart })\n        .then(res => {\n          console.log('updateCart', res)\n          status.isLoading = false\n          status.cartLoadingItem = ''\n          this.getCart()\n        })\n    },\n    delProduct (item) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.isLoading = true\n      axios.delete(api)\n        .then(res => {\n          this.isLoading = false\n          console.log('removeCartItem', res)\n          this.getCart()\n        })\n    }\n  }\n})\n","import { defineStore } from 'pinia'\n\nexport default defineStore('statusState', {\n  state: () => {\n    return {\n      isLoading: false,\n      cartLoadingItem: ''\n      // messages: []\n    }\n  }\n  // actions: {\n  //   pushMsg (data) {\n  //     const { title, content } = data\n  //     this.messages.push({ title, content })\n  //   }\n  // }\n})\n","<template>\n  <LoadingOverlay :active=\"isLoading\">\n    <div class=\"loadingio-spinner-ellipsis-nq4q5u6dq7r\"><div class=\"ldio-x2uulkbinbj\">\n    <div></div><div></div><div></div><div></div><div></div>\n    </div></div>\n  </LoadingOverlay>\n  <div class=\"container\">\n    <!-- 進度條 -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-8 col-10 mx-auto\">\n          <div class=\"position-relative m-4\">\n            <div class=\"progress\" style=\"height: 2px;\">\n              <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 100%; --bs-progress-bar-bg: #D6EADF;\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n            <router-link to=\"/cart\">\n              <button type=\"button\" class=\"position-absolute top-0 start-0 translate-middle btn btn-sm rounded-pill\"\n            style=\"width: 2rem; height:2rem; --bs-btn-bg: #D6EADF; --bs-btn-color: #fff; --bs-btn-hover-color: #fff;--bs-btn-hover-bg: #A7C4B5; --bs-btn-active-color: #fff; --bs-btn-active-bg: #A7C4B5;\">1</button>\n            </router-link>\n            <router-link to=\"/checkout\">\n              <button type=\"button\" class=\"position-absolute top-0 start-50 translate-middle btn btn-sm rounded-pill\"\n              style=\"width: 2rem; height:2rem; --bs-btn-bg: #A7C4B5; --bs-btn-color: #fff; --bs-btn-hover-color: #fff;--bs-btn-hover-bg: #A7C4B5; --bs-btn-active-color: #fff; --bs-btn-active-bg: #A7C4B5;\">2</button>\n            </router-link>\n            <button type=\"button\" class=\"position-absolute top-0 start-100 translate-middle btn btn-sm rounded-pill\"\n            style=\"width: 2rem; height:2rem; --bs-btn-bg: #D6EADF; --bs-btn-color: #fff; --bs-btn-hover-color: #fff;--bs-btn-hover-bg: #A7C4B5; --bs-btn-active-color: #fff; --bs-btn-active-bg: #A7C4B5;\">3</button>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-8 col-10 mx-auto\">\n            <div class=\"position-relative m-2\">\n              <div class=\"position-absolute top-0 start-0 translate-middle d-inline mt-2 ms-4\">購物車</div>\n              <div class=\"position-absolute top-0 start-50 translate-middle d-inline mt-2 ms-2\">填寫資料</div>\n              <div class=\"position-absolute top-0 start-100 translate-middle d-inline mt-2\" style=\"width: 4rem;\">訂單確認</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    <!-- 訂購人資訊 -->\n    <v-form class=\"row justify-content-around pt-4\" @submit=\"addOrder\" v-slot=\"{ errors }\">\n      <!-- 左側欄 -->\n      <div class=\"col-md-7\">\n        <h6 class=\"bg-light p-3\">訂購人資訊</h6>\n        <div class=\"border rounded mb-4 p-3\">\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">訂購人姓名</label>\n            <v-field type=\"text\" class=\"form-control\" id=\"name\" name=\"訂購人姓名\"\n            rules=\"required\" v-model=\"form.user.name\"\n            :class=\"{ 'is-invalid': errors['訂購人姓名'] }\"></v-field>\n            <error-message name=\"訂購人姓名\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">訂購人電話</label>\n            <v-field type=\"text\" class=\"form-control\" id=\"tel\" name=\"tel\" v-model=\"form.user.tel\"\n            :rules=\"isPhone\" :class=\"{ 'is-invalid': errors['tel'] }\"\n            ></v-field>\n            <error-message name=\"tel\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">訂購人信箱</label>\n            <v-field type=\"email\" class=\"form-control\" id=\"email\" name=\"訂購人信箱\"\n            rules=\"email|required\" v-model=\"form.user.email\"\n            :class=\"{ 'is-invalid': errors['訂購人信箱'] }\"></v-field>\n            <error-message name=\"訂購人信箱\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">取貨地址</label>\n            <v-field type=\"text\" class=\"form-control\" id=\"address\" name=\"取貨地址\" v-model=\"form.user.address\"\n            rules=\"required\" :class=\"{ 'is-invalid': errors['取貨地址'] }\"></v-field>\n            <error-message name=\"取貨地址\" class=\"invalid-feedback\"></error-message>\n          </div>\n          <div class=\"mb-4\">\n            <label for=\"note\" class=\"form-label\">訂單備註</label>\n            <textarea class=\"form-control\" id=\"note\" rows=\"3\" v-model=\"form.message\"></textarea>\n          </div>\n        </div>\n      </div>\n    <!-- 右側欄 -->\n    <div class=\"col-md-5\">\n      <!-- 送貨、付款方式 -->\n      <h6 class=\"bg-light p-3\">取貨及付款資訊</h6>\n      <div class=\"border rounded mb-3 p-3\">\n        <div class=\"mb-4\">\n          <label for=\"shipping\" class=\"mb-2\">取貨方式</label>\n          <v-field class=\"form-select\" id=\"shipping\" name=\"取貨方式\"\n          v-model=\"form.shipping\" as=\"select\"\n          rules=\"required\" :class=\"{ 'is-invalid': errors['取貨方式'] }\">\n            <option value=\"\">請選擇取貨方式</option>\n            <option value=\"自取\">自取</option>\n            <option value=\"外送\">外送</option>\n          </v-field>\n          <error-message name=\"取貨方式\" class=\"invalid-feedback\"></error-message>\n        </div>\n        <div class=\"mb-4\">\n          <label for=\"pay\" class=\"mb-2\">付款方式</label>\n          <v-field class=\"form-select\" aria-label=\"Default select example\" id=\"pay\" name=\"付款方式\"\n          v-model=\"form.pay\" as=\"select\"\n          rules=\"required\" :class=\"{ 'is-invalid': errors['付款方式'] }\">\n            <option value=\"\">請選擇付款方式</option>\n            <option value=\"現金\">現金</option>\n            <option value=\"信用卡\">信用卡</option>\n          </v-field>\n          <error-message name=\"付款方式\" class=\"invalid-feedback\"></error-message>\n        </div>\n      </div>\n      <!-- 訂單資訊 -->\n      <h6 class=\"bg-light p-3\">訂單資訊</h6>\n      <div class=\"p-3 border rounded mb-3\">\n        <div class=\"w-100\">\n          <p class=\"mb-3\">合計\n            <span class=\"float-end\">NT$ {{ $filters.currency(this.total) }}</span>\n          </p>\n          <div v-if=\"this.total !== this.finalTotal\" class=\"mb-4\">\n            <p class=\"text-warning fw-bold\">套用優惠代碼\n              <span class=\"float-end\">- {{ this.carts[0]?.coupon?.percent }}%</span>\n            </p>\n          </div>\n          <p class=\"fw-bold border-top pt-2\">結帳總金額\n            <span class=\"float-end fw-bold\">NT$ {{ $filters.currency(this.finalTotal) }}</span>\n          </p>\n        </div>\n      </div>\n      <!-- 按鈕 -->\n      <div class=\"mb-4 d-flex align-items-center justify-content-between\">\n        <a href=\"\" class=\"link text-secondary\" @click.prevent=\"backToCart\">← 返回購物車</a>\n        <button class=\"btn btn-warning\" type=\"submit\" @click=\"addOrder\">送出訂單</button>\n      </div>\n    </div>\n    </v-form>\n  </div>\n</template>\n\n<script>\nimport cartStore from '@/stores/cartStore'\nimport { mapState, mapActions } from 'pinia'\n\nexport default {\n  data () {\n    return {\n      isLoading: false,\n      form: {\n        user: {\n          name: '',\n          tel: '',\n          email: '',\n          address: ''\n        },\n        message: '',\n        shipping: '',\n        pay: ''\n      }\n    }\n  },\n  computed: {\n    ...mapState(cartStore, ['total', 'finalTotal', 'carts'])\n  },\n  methods: {\n    // 取購物車列表\n    ...mapActions(cartStore, ['getCart']),\n    addOrder () {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.isLoading = true\n      this.$http.post(api, { data: order })\n        .then(res => {\n          this.isLoading = false\n          console.log(res)\n          if (res.data.success) {\n            this.$router.push(`/shop/checkout/${res.data.orderId}`)\n          }\n        })\n    },\n    backToCart () {\n      this.$router.push('/shop/cart')\n    },\n    isPhone (value) {\n      const phoneNumber = /^(09)[0-9]{8}$/\n      return phoneNumber.test(value) ? true : '須為正確的電話號碼'\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import { render } from \"./ShopCheckoutInfo.vue?vue&type=template&id=1449f7fe\"\nimport script from \"./ShopCheckoutInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCheckoutInfo.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","carts","total","finalTotal","actions","getCart","api","isLoading","axios","get","then","res","console","log","data","success","this","final_total","updateCart","item","id","cart","product_id","qty","cartLoadingItem","put","delProduct","delete","_createElementVNode","class","style","role","type","_createStaticVNode","for","value","key","_createElementBlock","_Fragment","_createVNode","_component_LoadingOverlay","active","$data","default","_withCtx","_hoisted_1","_","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_router_link","to","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_v_form","onSubmit","$options","addOrder","errors","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_component_v_field","_normalizeClass","name","rules","modelValue","form","user","_cache","$event","_component_error_message","_hoisted_16","_hoisted_17","tel","isPhone","_hoisted_18","_hoisted_19","email","_hoisted_20","_hoisted_21","address","_hoisted_22","_hoisted_23","rows","message","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","shipping","as","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","pay","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_createTextVNode","_hoisted_41","_toDisplayString","_ctx","$filters","currency","_hoisted_42","_hoisted_43","_hoisted_44","coupon","percent","_createCommentVNode","_hoisted_45","_hoisted_46","_hoisted_47","href","onClick","_withModifiers","args","backToCart","computed","mapState","cartStore","methods","mapActions","order","$http","post","$router","push","orderId","phoneNumber","test","created","__exports__","render"],"sourceRoot":""}